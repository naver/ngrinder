<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta http-equiv="Cache-Control" content="no-cache"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>

<link href="/css/bootstrap.min.css" rel="stylesheet"/>
<link href="/css/ngrinder.css" rel="stylesheet"/>
<link href="/css/introjs.min.css" rel="stylesheet"/>

<div id="ngrinder">
    <div id="ngrinder-main-content-wrapper">
        <navigator v-if="currentUser.role"></navigator>
        <router-view :key="$route.fullPath"></router-view>
        <copyright :version="version"></copyright>
    </div>
</div>

<script>
    const visibleRegions = "{{ visibleRegions }}";
    window.ngrinder = {
        version: "{{ version }}",
        currentUser: {
            name: "{{ currentUser.userName }}",
            id: "{{ currentUser.userId }}",
            email: "{{ currentUser.email }}",
            role: "{{ currentUser.role.shortName }}",
            factualUser: {
                name: "{{ currentUser.factualUser.userName }}",
                id: "{{ currentUser.factualUser.userId }}",
                email: "{{ currentUser.factualUser.email }}",
                role:  "{{ currentUser.role.shortName }}",
            },
        },
        config: {
            visibleRegions: visibleRegions.substr(1, visibleRegions.length -2).split(','),
            clustered: ("{{ clustered }}" === 'true'),
            helpUrl: "{{ helpUrl }}",
            hasNewAnnouncement: ("{{ hasNewAnnouncement }}" === 'true'),
        },
    }
</script>

<script type="text/javascript" src="/js/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="/js/jquery.number.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/js/bootbox.min.js"></script>
<script type="text/javascript" src="/js/utils.js"></script>
<script type="text/javascript" src="/js/jquery.validate.min.js"></script>
<script type="text/javascript" src="/js/app.js"></script>
