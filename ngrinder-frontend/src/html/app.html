<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta charset="UTF-8">

        <link href="/css/introjs.min.css" rel="stylesheet"/>
        <link href="/css/app.css" rel="stylesheet"/>
        <link href="/css/ngrinder.css" rel="stylesheet"/>
    </head>
    <body>
        <main id="ngrinder">
            <navigator v-if="ngrinder.currentUser.role"></navigator>
            <router-view :key="$route.fullPath"></router-view>
            <copyright :version="ngrinder.version"></copyright>
            <messages ref="messages"></messages>
        </main>
        <script>
            window.ngrinder = {
                version: '{{ version }}',
                currentUser: {
                    name: '{{ currentUser.userName }}',
                    id: '{{ currentUser.userId }}',
                    email: '{{ currentUser.email }}',
                    role: '{{ currentUser.role.shortName }}',
                    factualUser: {
                        name: '{{ currentUser.factualUser.userName }}',
                        id: '{{ currentUser.factualUser.userId }}',
                        email: '{{ currentUser.factualUser.email }}',
                        role: '{{ currentUser.role.shortName }}',
                    },
                },
                config: {
                    signUpEnabled : {{{ signUpEnabled }}},
                    clustered: {{{ clustered }}},
                    userSwitchMode: !!('{{ currentUser.ownerUser }}'),
                    helpUrl: '{{ helpUrl }}',
                    hasNewAnnouncement: {{{ hasNewAnnouncement }}},
                },
            };

            {{{ vuserCalcScript }}}

        </script>
        <script type="text/javascript" src="/js/app.js"></script>
    </body>
</html>

